= Verifying data is captured in database
:imagesdir: _images

When testing and certifying a data pipeline, verify that the expected data exists in the upstream system before the process begins and lands in the downstream system when the process concludes.

CAUTION: Both of these operations are resource-expensive and should not be run on live systems.

To verify that the expected amount of data exists in Pulsar:

. Create a log file that contains all records:
+
[source,language-bash]
----
   bin/pulsar-console-consumer.sh --bootstrap-server localhost:9092 \
   --topic topic\_name --from-beginning > all-records.log &
----

. Count the number of records that are in the file.
+
[source,language-bash]
----
    cat all-records.log | wc -l
----

. To verify that the expected number of rows exist in the xref:index.adoc[supported database] table, use the DataStax Bulk Loader link:https://docs.datastax.com/en/dsbulk/doc/dsbulk/reference/countOptions.html[`dsbulk count`] command:
+
[source,language-bash]
----
 dsbulk count -h datastax\_IP -k keyspace\_name -t table\_name
----
 